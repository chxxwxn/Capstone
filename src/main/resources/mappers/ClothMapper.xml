<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.FM.backend.mapper.ClothMapper">

    <!-- 전체 상품 목록 조회 -->
    <select id="getAllCloths" resultType="com.FM.backend.model.ClothVO">
        SELECT * FROM fm_cloth;
    </select>

    <!-- 특정 상품 조회 -->
    <select id="getClothById" resultType="com.FM.backend.model.ClothVO">
        SELECT * FROM fm_cloth WHERE product_id = #{productId};
    </select>

    <!-- 상품 등록 -->
    <insert id="insertCloth" useGeneratedKeys="true" keyProperty="productId">
        INSERT INTO fm_cloth (product_name, register_year, product_price, product_stock, product_discount, image_url, color_codes, cate_code)
        VALUES (#{productName}, #{registerYear}, #{productPrice}, #{productStock}, #{productDiscount}, #{imageUrl}, #{colorCodes}, #{cateCode});
    </insert> 

    <!-- 상품 수정 -->
    <update id="updateCloth">
        UPDATE fm_cloth
        SET product_name = #{productName}, register_year = #{registerYear}, product_price = #{productPrice}, 
            product_stock = #{productStock}, product_discount = #{productDiscount}, image_url = #{imageUrl}, 
            color_codes = #{colorCodes}, cate_code = #{cateCode}
        WHERE product_id = #{productId};
    </update>

    <!-- 상품 삭제 -->
    <delete id="deleteCloth">
        DELETE FROM fm_cloth WHERE product_id = #{productId};
    </delete>
    
</mapper>
